---
title: "COVID-19 Germany"
description: |
  This blog post explores the current situation of COVID-19 in Germany.
author:
  - name: XITONG HE
    url: https://xitong-covid19-italy.netlify.app
    affiliation: Monash University
date: 09-18-2020
categories: 
  - COVID-19
output:
  distill::distill_article:
    self_contained: false
bibliography: references.bib
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,message = FALSE,warning = FALSE,fig.align="center")
library(dplyr)
library(tidyverse)
library(lubridate)
library(covid19germany)
library(coronavirus)
library(plotly)
library(ggplot2)
library(ggrepel)
library(openair)
```

```{r germany-picture, fig.cap="Germany COVID-19 situation Source from:[Skynews](https://news.sky.com/story/coronavirus-why-germany-has-such-a-low-covid-19-death-rate-11964051)"}
knitr::include_graphics('image/Germany.jpg')
```


Coronavirus disease (COVID-19) became global epidemics and threaten human life now. On Jan 27, 2020, the Bavarian Health and Food Safety Authority, Germany, was informed of the first human case of infection with SARS-CoV-2 in a German national working for a company in the greater Munich area @bohmer2020investigation.\

In this blog, I am going to analyse the situation of COVID-19 in Germany.\

## Data description

The `germany_region` cleaned data is obtained from [GitHub nevrome](https://github.com/nevrome/covid19germany), where is provided a tidy format dataset with PKI timeseries about COVID-19 cases and deaths for Germany (timeseries) pandemic outbreak and the raw data is collectd by[NPGEO Corona](https://npgeo-corona-npgeo-de.hub.arcgis.com/search?groupIds=b28109b18022405bb965c602b13e1bbc). In addition, the `germany` data is from R package `coronavirus`[@coronavirus] provided by [RamiKrispin](https://github.com/RamiKrispin/coronavirus), which contains COVID-19 data from 188 countries or regions, and the raw data collected and arranged by [Johns Hopkins University Center for Systems Science and Engineering](https://github.com/CSSEGISandData/COVID-19). 

The two datasets are shown as below:\

-  **germany** - daily summary of the outbreak on the national level\

-  **germany_region**- daily summary of the outbreak on the region level\


These two datasets is collected the information from 2020-01-27 until now, updating daily by daily data information. \


```{r read-data}
germany_total<-covid19germany::get_RKI_timeseries()
x<-covid19germany::group_RKI_timeseries(germany_total)
data("coronavirus")
germany <- coronavirus %>% 
  filter(country=="Germany", date >= "2020-01-27")%>%  
  select(-province) %>% 
  mutate(month = month(date, label = TRUE))
```


## Analyse in Germany

### Case distribution by Region
 

**Figure \@ref(fig:region-distribution)** shows  how the number of death,active,and recovery cases differ in the 16 different states until now. By ordering the graphs with highest total number of COVID-19 case, Northrine-Westfalia was the highest one compared to other states. This might also be due to the fact that it is the state with most citizens and there has been more testing in Northrine-Westfalia. It can be seen that meanwhile in Northrhine-Westfalia, even though it has the highest total case, there are much less active and death cases than in Baden-Württemberg and even more positive active case in Bayern until now. One possible reason is that Northrine-Westfalia imposed lock-down restrictions and stricter social distancing after the meatpacking plant became biggest infection accident in Northrine-Westfalia whcih can reduce more active case to happen @augustin2020rapid. Another explenation might be that the infected persons in Bayern and Baden-Württemberg are older because of a lot of infections within elderly care organizations so that the death cases are higher than Northrine-Westfalia.\


```{r germany-region}
germany_total%>% 
  select(Date,Bundesland, NumberNewTestedIll, NumberNewDead,NumberNewRecovered)%>% 
  rename(
    Region = Bundesland,
   test = NumberNewTestedIll,
    Death=NumberNewDead,
    Recovered=NumberNewRecovered
    )%>%
  group_by(Region)%>%
  mutate(test=sum(test),
         death=sum(Death),
         recovery=sum(Recovered),
         month=month(Date))%>%
  distinct(Region,test,death,recovery)%>%
  mutate(active=test-death-recovery)%>%
   arrange(-test)->germany_region

```


```{r region-distribution,fig.height=5,fig.width=14,fig.cap="COVID-19 Case distribution by region in Germany"  }
figure<-germany_region%>%
  plot_ly(y =  ~reorder(Region,test), 
          x = ~ active, 
          orientation = 'h',
          text =  ~ active,
          textposition = 'auto',
          type = "bar", 
          name = "Active",
          marker = list(size=7,color = "#09a7d1")) %>%
  add_trace(x = ~ recovery,
            text =  ~ recovery,
            textposition = 'auto',
            name = "Recovered",
            marker = list(size=5,color = "#1aa368")) %>%
  add_trace(x = ~ death, 
            text =  ~ death,
            textposition = 'auto',
            name = "Death",
            marker = list(size=5,color = "#f43e39")) %>%
  layout(title = "Cases Distribution by Region",
         barmode = 'stack',
         hovermode = "compare",
         legend = list(x = 0.7, y = 0.5))

f <- list(
  family = "Times New Roman",
  size = 18,
  color = "#7f7f7f"
)
x <- list(
  title = "Number of Cases",
  titlefont = f,
  range=c(0,70000)
)
y <- list(
  title = list(text="Region",standoff=3),
  titlefont = f
)

figure <- figure%>% layout(xaxis = x, yaxis = y)

figure

```



## Acknowlegments

I would like to thank all the contributors to the following R package: @tidyverse, @here, @dplyr, @DT, @covid19italy, @sparkline, @htmlwidgets, @formattable, @kableExtra, @lubridate.
