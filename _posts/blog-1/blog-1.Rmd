---
title: "COVID-19 Italy"
description: |
  This blog post explores the current situation of COVID-19 in Italy.
author:
  - name: XITONG HE
    affiliation: Monash University
date: 08-31-2020
output:
  distill::distill_article:
    self_contained: false
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,message = FALSE,warning = FALSE,fig.align="center")
library(covid19italy)
library(dplyr)
library(tidyverse)
library(lubridate)
library(DT)
library(sparkline)
library(kableExtra)
library(formattable)
library(htmlwidgets)
library(htmltools)
```



Italy is experienced the serious coronavirus disaster, especially the out-of-control in March. In this post, I am going to analyze the situation in this epidemic in Italy.\

# Data description

There are three data sets used on this analysis, and the cleaned data is obtained from [GitHub RamiKrispin](https://github.com/RamiKrispin/covid19Italy). In addition, the `covid19italy` package is created by Rami Krispin @covid19italy as well which is provided a tidy format dataset of the 2019 Novel Coronavirus COVID-19 (2019-nCoV) pandemic outbreak in Italy.\

The three datasets are shown as below:\

-  **italy_total** - daily summary of the outbreak on the national level\

-  **italy_region**- daily summary of the outbreak on the region level\

-  **italy_province** - daily summary of the outbreak on the province level\

These three datasets is collected the information from 2020-02-24 until now, updating daily by daily data information. Overall, Italy has the *265,409* total case of COVID-19 until now. \

# Analyse in Italy

**Figure \@ref(fig:region-table)** shows the number of active, recovered,death and total case in each region in Italy from 2020-02-24 until now. Lombardia has the most of cases in all attributes and the death case are more than 10,000 which is almost the twice of Piemonte. The reason for this phenomenon with highest death in Lombardia due to the possible delayed public health response, high urban density and considerable elderly population which is difficult to control transmission between asymptomatic individuals at the community level so it makes the situation worst than other regions @odone2020covid. And Basilicata has the less cases in all 21 regions,which has been announced early to the travelers who has to pre-register by filling out a designed form which shows where they will be staying and when will they depart, as part of efforts to halt the spread of the Coronavirus pandemic (COVID-19).\


```{r read-data}
italy_region<-read.csv(here::here("data/italy_region.csv"))
italy_province<-read.csv(here::here("data/italy_province.csv"))
italy_total<-read.csv(here::here("data/italy_total.csv"))
```


```{r region-wrangling-data}


region_case<-italy_region %>% 
  filter(date == max(date)) %>% 
  select(region_name, cumulative_positive_cases, recovered, death, cumulative_cases) %>%
  arrange(-cumulative_positive_cases) %>%
  mutate(region = factor(region_name, levels = region_name))->region_case
#sorted <- region_case[order(region_case$region, decreasing= TRUE),]
italy_region %>% 
  filter(date == max(date)) %>% 
  select(region_name, cumulative_positive_cases, recovered, death,cumulative_cases)%>% rename(
    Region = region_name,
    Active = cumulative_positive_cases,
    `Total case`=cumulative_cases
    )->region_count
```

```{r region-table,fig.cap="COVID-19 case in different region in Italy "}

DT::datatable(region_count, options = list(pageLength = 7),filter = 'top')%>%
    formatStyle(
    'death',
    background = styleColorBar(region_case$death, 'steelblue'),
    backgroundSize = '98% 88%',
    backgroundRepeat = 'no-repeat',
    backgroundPosition = 'center'
  ) 
```
